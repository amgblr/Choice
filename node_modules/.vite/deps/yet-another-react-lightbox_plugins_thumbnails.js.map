{
  "version": 3,
  "sources": ["../../yet-another-react-lightbox/dist/plugins/thumbnails/index.js"],
  "sourcesContent": ["import { useLightboxProps, composePrefix, createIcon, cssClass, isImageSlide, clsx, ImageSlide, makeComposePrefix, cssVar, useLightboxState, useEvents, useRTL, useAnimation, useEventCallback, cleanup, hasSlides, getSlide, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FULLSIZE, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = useLightboxProps();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix(composePrefix(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n    if (!isImageSlide(slide)) {\n        if (slide.type === \"video\") {\n            return (React.createElement(React.Fragment, null,\n                \"poster\" in slide && (React.createElement(\"img\", { alt: \"\", src: slide.poster, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(cssPrefix(\"contain_image\"))) })),\n                React.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n        }\n    }\n    else {\n        return React.createElement(ImageSlide, { slide: slide, render: render, rect: rect, imageFit: imageFit });\n    }\n    return React.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder }) {\n    const { render, styles } = useLightboxProps();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    return (React.createElement(\"button\", { type: \"button\", className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension, includeGap) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + (includeGap ? thumbnails.gap : 0);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = React.useRef(null);\n    const { carousel, styles } = useLightboxProps();\n    const { slides, globalIndex, animation } = useLightboxState();\n    const { publish, subscribe } = useEvents();\n    const isRTL = useRTL();\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderRadius, padding, gap, vignette } = thumbnails;\n    const index = globalIndex;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = useAnimation(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = useEventCallback(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const { finite } = carousel;\n    const preload = Math.max(Math.min(carousel.preload, slides.length - 1), 0);\n    const items = [];\n    if (hasSlides(slides)) {\n        if (offset < 0) {\n            for (let i = index - preload + offset; i < index - preload; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        for (let i = index - preload - (offset > 0 ? offset : 0); i < index; i += 1) {\n            if (!(finite && i < 0)) {\n                items.push({ slide: getSlide(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        items.push({ slide: getSlide(slides, index), index });\n        for (let i = index + 1; i <= index + preload - (offset < 0 ? offset : 0); i += 1) {\n            if (!finite || i <= slides.length - 1) {\n                items.push({ slide: getSlide(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        if (offset > 0) {\n            for (let i = index + preload + 1; i <= index + preload + offset; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > index) {\n            publish(ACTION_NEXT, { count: slideIndex - index });\n        }\n        else if (slideIndex < index) {\n            publish(ACTION_PREV, { count: index - slideIndex });\n        }\n    };\n    return (React.createElement(\"div\", { className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width\n                ? { [cssVar(cssThumbnailPrefix(\"width\"))]: `${boxSize(thumbnails, width)}px` }\n                : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [cssVar(cssThumbnailPrefix(\"height\"))]: `${boxSize(thumbnails, height)}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [cssVar(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [cssVar(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [cssVar(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [cssVar(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        React.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)) }, items.map(({ slide, index: slideIndex, placeholder }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && slideIndex > index + preload - offset && slideIndex <= index + preload) ||\n                (offset < 0 && slideIndex < index - preload - offset && slideIndex >= index - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0\n                        ? slideIndex - (index + preload - offset)\n                        : index - preload - offset - slideIndex) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && slideIndex < index - preload) || (offset < 0 && slideIndex > index + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (index - preload - slideIndex)\n                        : -offset - (slideIndex - (index + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (React.createElement(Thumbnail, { key: slideIndex, slide: slide, active: slideIndex === index, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: Boolean(placeholder), onClick: handleClick(slideIndex) }));\n        })),\n        vignette && React.createElement(\"div\", { className: cssClass(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const [visible, setVisible] = React.useState(true);\n    const containerRef = React.useRef(null);\n    const { ref, position } = resolveThumbnailsProps(props.thumbnails);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(ThumbnailsContext.Provider, { value: context },\n            React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && (React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })),\n                React.createElement(\"div\", { className: cssClass(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && (React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }))))));\n}\n\nconst thumbnailsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = useLightboxProps();\n    if (render.buttonThumbnails) {\n        return React.createElement(React.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(PLUGIN_FULLSCREEN)) {\n        append(PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(MODULE_CONTROLLER, module);\n    }\n}\n\nexport { Thumbnails as default };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,YAAuB;AAGvB,IAAM,yBAAyB;AAAA,EAC3B,KAAK;AAAA,EACL,UAAU;AAAA,EACV,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,cAAc;AAAA,EACd,SAAS;AAAA,EACT,KAAK;AAAA,EACL,UAAU;AAAA,EACV,UAAU;AACd;AACA,IAAM,yBAAyB,CAAC,gBAAgB;AAAA,EAC5C,GAAG;AAAA,EACH,GAAG;AACP;AACA,SAAS,qBAAqB;AAC1B,QAAM,EAAE,WAAW,IAAI,iBAAiB;AACxC,SAAO,uBAAuB,UAAU;AAC5C;AAEA,IAAM,YAAY,CAAC,UAAU,cAAc,mBAAmB,KAAK;AACnE,IAAM,qBAAqB,CAAC,UAAU,UAAU,cAAc,aAAa,KAAK,CAAC;AAEjF,IAAM,qBAAqB,WAAW,kBAAwB,oBAAc,QAAQ,EAAE,GAAG,sJAAsJ,CAAC,CAAC;AACjP,IAAM,uBAAuB,WAAW,oBAA0B,oBAAc,QAAQ,EAAE,GAAG,2HAA2H,CAAC,CAAC;AAC1N,SAAS,gBAAgB,EAAE,OAAO,QAAQ,MAAM,SAAS,GAAG;AACxD,MAAI;AACJ,QAAM,mBAAmB,KAAK,OAAO,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,QAAQ,EAAE,OAAO,QAAQ,MAAM,SAAS,CAAC;AACtI,MAAI,iBAAiB;AACjB,WAAO;AAAA,EACX;AACA,QAAM,qBAAqB,SAAS,mBAAmB,YAAY,CAAC;AACpE,MAAI,CAAC,aAAa,KAAK,GAAG;AACtB,QAAI,MAAM,SAAS,SAAS;AACxB,aAAc;AAAA,QAAoB;AAAA,QAAU;AAAA,QACxC,YAAY,SAAgB,oBAAc,OAAO,EAAE,KAAK,IAAI,KAAK,MAAM,QAAQ,WAAW,KAAK,SAAS,cAAc,GAAG,SAAS,UAAU,eAAe,CAAC,CAAC,EAAE,CAAC;AAAA,QAC1J,oBAAc,oBAAoB,EAAE,WAAW,mBAAmB,CAAC;AAAA,MAAC;AAAA,IAClF;AAAA,EACJ,OACK;AACD,WAAa,oBAAc,YAAY,EAAE,OAAc,QAAgB,MAAY,SAAmB,CAAC;AAAA,EAC3G;AACA,SAAa,oBAAc,sBAAsB,EAAE,WAAW,mBAAmB,CAAC;AACtF;AACA,IAAM,eAAe,kBAAkB,QAAQ;AAC/C,IAAM,eAAe,kBAAkB,QAAQ;AAC/C,IAAM,gBAAgB,kBAAkB,SAAS;AACjD,IAAM,oBAAoB,kBAAkB,aAAa;AACzD,IAAM,QAAQ;AACd,IAAM,WAAW;AACjB,SAAS,UAAU,EAAE,OAAO,SAAS,QAAQ,QAAQ,SAAS,YAAY,GAAG;AACzE,QAAM,EAAE,QAAQ,OAAO,IAAI,iBAAiB;AAC5C,QAAM,EAAE,OAAO,QAAQ,SAAS,IAAI,mBAAmB;AACvD,QAAM,OAAO,EAAE,OAAO,OAAO;AAC7B,SAAc,oBAAc,UAAU,EAAE,MAAM,UAAU,WAAW,KAAK,SAAS,iBAAiB,GAAG,SAAS,mBAAmB,CAAC,GAAG,UAAU,SAAS,mBAAmB,aAAa,CAAC,CAAC,GAAG,UAAU,SAAS,mBAAmB,aAAa,CAAC,CAAC,GAAG,WAAW,SAAS,mBAAmB,cAAc,CAAC,CAAC,GAAG,eAAe,SAAS,mBAAmB,kBAAkB,CAAC,CAAC,CAAC,GAAG,OAAO;AAAA,IACjX,GAAI,SACE;AAAA,MACE,CAAC,OAAO,mBAAmB,aAAa,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO;AAAA,MAChE,CAAC,OAAO,mBAAmB,aAAa,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO;AAAA,IACjE,IACE;AAAA,IACN,GAAI,UACE;AAAA,MACE,CAAC,OAAO,mBAAmB,cAAc,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ;AAAA,MAClE,CAAC,OAAO,mBAAmB,cAAc,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ;AAAA,IACnE,IACE;AAAA,IACN,GAAG,OAAO;AAAA,EACd,GAAG,QAAiB,GAAG,SAAS,gBAAgB,EAAE,OAAO,QAAQ,MAAM,SAAS,CAAC,CAAC;AAC1F;AAEA,SAAS,aAAa,UAAU;AAC5B,SAAO,CAAC,OAAO,QAAQ,EAAE,SAAS,QAAQ;AAC9C;AACA,SAAS,QAAQ,YAAY,WAAW,YAAY;AAChD,SAAO,YAAY,KAAK,WAAW,SAAS,WAAW,YAAY,aAAa,WAAW,MAAM;AACrG;AACA,SAAS,gBAAgB,EAAE,SAAS,aAAa,GAAG;AAChD,QAAM,QAAc,aAAO,IAAI;AAC/B,QAAM,EAAE,UAAU,OAAO,IAAI,iBAAiB;AAC9C,QAAM,EAAE,QAAQ,aAAa,UAAU,IAAI,iBAAiB;AAC5D,QAAM,EAAE,SAAS,UAAU,IAAI,UAAU;AACzC,QAAM,QAAQ,OAAO;AACrB,QAAM,aAAa,mBAAmB;AACtC,QAAM,EAAE,UAAU,OAAO,QAAQ,QAAQ,cAAc,SAAS,KAAK,SAAS,IAAI;AAClF,QAAM,QAAQ;AACd,QAAM,qBAAqB,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,aAAa;AACxG,QAAM,SAAU,oBAAoB,MAAM,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,cAAe;AACzH,QAAM,EAAE,iBAAiB,IAAI,aAAa,OAAO,CAAC,cAAc;AAAA,IAC5D,WAAW,aAAa,QAAQ,IAC1B;AAAA,MACE;AAAA,QACI,WAAW,eAAe,QAAQ,KAAK,KAAK,QAAQ,YAAY,OAAO,IAAI,IAAI,SAAS;AAAA,MAC5F;AAAA,MACA,EAAE,WAAW,gBAAgB;AAAA,IACjC,IACE;AAAA,MACE;AAAA,QACI,WAAW,cAAc,QAAQ,YAAY,QAAQ,IAAI,IAAI,SAAS;AAAA,MAC1E;AAAA,MACA,EAAE,WAAW,gBAAgB;AAAA,IACjC;AAAA,IACJ,UAAU;AAAA,IACV,QAAQ,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU;AAAA,EAC5E,EAAE;AACF,QAAM,wBAAwB,iBAAiB,MAAM;AACjD,QAAI,kBAAkB;AACtB,QAAI,aAAa,WAAW,MAAM,SAAS;AACvC,YAAM,gBAAgB,aAAa,QAAQ,sBAAsB;AACjE,YAAM,YAAY,MAAM,QAAQ,sBAAsB;AACtD,wBAAkB,aAAa,QAAQ,IACjC,UAAU,OAAO,cAAc,QAAQ,cAAc,QAAQ,UAAU,SAAS,IAChF,UAAU,MAAM,cAAc,OAAO,cAAc,SAAS,UAAU,UAAU;AAAA,IAC1F;AACA,qBAAiB,eAAe;AAAA,EACpC,CAAC;AACD,EAAM,gBAAU,MAAM,QAAQ,UAAU,cAAc,qBAAqB,CAAC,GAAG,CAAC,WAAW,qBAAqB,CAAC;AACjH,QAAM,EAAE,OAAO,IAAI;AACnB,QAAM,UAAU,KAAK,IAAI,KAAK,IAAI,SAAS,SAAS,OAAO,SAAS,CAAC,GAAG,CAAC;AACzE,QAAM,QAAQ,CAAC;AACf,MAAI,UAAU,MAAM,GAAG;AACnB,QAAI,SAAS,GAAG;AACZ,eAAS,IAAI,QAAQ,UAAU,QAAQ,IAAI,QAAQ,SAAS,KAAK,GAAG;AAChE,cAAM,KAAK,EAAE,OAAO,MAAM,OAAO,GAAG,aAAa,KAAK,CAAC;AAAA,MAC3D;AAAA,IACJ;AACA,aAAS,IAAI,QAAQ,WAAW,SAAS,IAAI,SAAS,IAAI,IAAI,OAAO,KAAK,GAAG;AACzE,UAAI,EAAE,UAAU,IAAI,IAAI;AACpB,cAAM,KAAK,EAAE,OAAO,SAAS,QAAQ,CAAC,GAAG,OAAO,EAAE,CAAC;AAAA,MACvD,OACK;AACD,cAAM,KAAK,EAAE,OAAO,MAAM,OAAO,GAAG,aAAa,KAAK,CAAC;AAAA,MAC3D;AAAA,IACJ;AACA,UAAM,KAAK,EAAE,OAAO,SAAS,QAAQ,KAAK,GAAG,MAAM,CAAC;AACpD,aAAS,IAAI,QAAQ,GAAG,KAAK,QAAQ,WAAW,SAAS,IAAI,SAAS,IAAI,KAAK,GAAG;AAC9E,UAAI,CAAC,UAAU,KAAK,OAAO,SAAS,GAAG;AACnC,cAAM,KAAK,EAAE,OAAO,SAAS,QAAQ,CAAC,GAAG,OAAO,EAAE,CAAC;AAAA,MACvD,OACK;AACD,cAAM,KAAK,EAAE,OAAO,MAAM,OAAO,GAAG,aAAa,KAAK,CAAC;AAAA,MAC3D;AAAA,IACJ;AACA,QAAI,SAAS,GAAG;AACZ,eAAS,IAAI,QAAQ,UAAU,GAAG,KAAK,QAAQ,UAAU,QAAQ,KAAK,GAAG;AACrE,cAAM,KAAK,EAAE,OAAO,MAAM,OAAO,GAAG,aAAa,KAAK,CAAC;AAAA,MAC3D;AAAA,IACJ;AAAA,EACJ;AACA,QAAM,cAAc,CAAC,eAAe,MAAM;AACtC,QAAI,aAAa,OAAO;AACpB,cAAQ,aAAa,EAAE,OAAO,aAAa,MAAM,CAAC;AAAA,IACtD,WACS,aAAa,OAAO;AACzB,cAAQ,aAAa,EAAE,OAAO,QAAQ,WAAW,CAAC;AAAA,IACtD;AAAA,EACJ;AACA,SAAc;AAAA,IAAc;AAAA,IAAO,EAAE,WAAW,KAAK,SAAS,UAAU,WAAW,CAAC,GAAG,SAAS,iBAAiB,CAAC,GAAG,OAAO;AAAA,MACpH,GAAI,CAAC,UAAU,EAAE,SAAS,OAAO,IAAI;AAAA,MACrC,GAAI,UAAU,uBAAuB,QAC/B,EAAE,CAAC,OAAO,mBAAmB,OAAO,CAAC,CAAC,GAAG,GAAG,QAAQ,YAAY,KAAK,MAAM,IAC3E;AAAA,MACN,GAAI,WAAW,uBAAuB,SAChC,EAAE,CAAC,OAAO,mBAAmB,QAAQ,CAAC,CAAC,GAAG,GAAG,QAAQ,YAAY,MAAM,MAAM,IAC7E;AAAA,MACN,GAAI,WAAW,uBAAuB,SAChC,EAAE,CAAC,OAAO,mBAAmB,QAAQ,CAAC,CAAC,GAAG,GAAG,WAAW,IACxD;AAAA,MACN,GAAI,iBAAiB,uBAAuB,eACtC,EAAE,CAAC,OAAO,mBAAmB,eAAe,CAAC,CAAC,GAAG,GAAG,iBAAiB,IACrE;AAAA,MACN,GAAI,YAAY,uBAAuB,UACjC,EAAE,CAAC,OAAO,mBAAmB,SAAS,CAAC,CAAC,GAAG,GAAG,YAAY,IAC1D;AAAA,MACN,GAAI,QAAQ,uBAAuB,MAAM,EAAE,CAAC,OAAO,mBAAmB,KAAK,CAAC,CAAC,GAAG,GAAG,QAAQ,IAAI;AAAA,MAC/F,GAAG,OAAO;AAAA,IACd,EAAE;AAAA,IACI,oBAAc,OAAO,EAAE,KAAK,OAAO,OAAO,OAAO,iBAAiB,WAAW,KAAK,SAAS,UAAU,OAAO,CAAC,GAAG,SAAS,iBAAiB,CAAC,EAAE,GAAG,MAAM,IAAI,CAAC,EAAE,OAAO,OAAO,YAAY,YAAY,MAAM;AAC3M,YAAM,wBAAwB,oBAAoB,KAAK,IAAI,UAAU,CAAC;AACtE,YAAM,SAAU,SAAS,KAAK,aAAa,QAAQ,UAAU,UAAU,cAAc,QAAQ,WACxF,SAAS,KAAK,aAAa,QAAQ,UAAU,UAAU,cAAc,QAAQ,UAC5E;AAAA,QACE,UAAU;AAAA,QACV,SAAS,SAAS,IACZ,cAAc,QAAQ,UAAU,UAChC,QAAQ,UAAU,SAAS,cAC7B,KACA;AAAA,MACR,IACE;AACN,YAAM,UAAW,SAAS,KAAK,aAAa,QAAQ,WAAa,SAAS,KAAK,aAAa,QAAQ,UAC9F;AAAA,QACE,UAAU;AAAA,QACV,QAAQ,SAAS,IACX,UAAU,QAAQ,UAAU,cAC5B,CAAC,UAAU,cAAc,QAAQ,aAAa;AAAA,MACxD,IACE;AACN,aAAc,oBAAc,WAAW,EAAE,KAAK,YAAY,OAAc,QAAQ,eAAe,OAAO,QAAgB,SAAkB,aAAa,QAAQ,WAAW,GAAG,SAAS,YAAY,UAAU,EAAE,CAAC;AAAA,IACjN,CAAC,CAAC;AAAA,IACF,YAAkB,oBAAc,OAAO,EAAE,WAAW,SAAS,UAAU,UAAU,CAAC,EAAE,CAAC;AAAA,EAAC;AAC9F;AAEA,IAAM,oBAA0B,oBAAc,IAAI;AAClD,IAAM,gBAAgB,eAAe,iBAAiB,qBAAqB,iBAAiB;AAC5F,SAAS,0BAA0B,EAAE,UAAU,GAAG,MAAM,GAAG;AACvD,QAAM,CAAC,SAAS,UAAU,IAAU,eAAS,IAAI;AACjD,QAAM,eAAqB,aAAO,IAAI;AACtC,QAAM,EAAE,KAAK,SAAS,IAAI,uBAAuB,MAAM,UAAU;AACjE,QAAM,UAAgB,cAAQ,OAAO;AAAA,IACjC;AAAA,IACA,MAAM,MAAM,WAAW,IAAI;AAAA,IAC3B,MAAM,MAAM,WAAW,KAAK;AAAA,EAChC,IAAI,CAAC,OAAO,CAAC;AACb,EAAM,0BAAoB,KAAK,MAAM,SAAS,CAAC,OAAO,CAAC;AACvD,SAAc;AAAA,IAAc;AAAA,IAAuB,EAAE,GAAG,MAAM;AAAA,IACpD;AAAA,MAAc,kBAAkB;AAAA,MAAU,EAAE,OAAO,QAAQ;AAAA,MACvD;AAAA,QAAc;AAAA,QAAO,EAAE,KAAK,cAAc,WAAW,KAAK,SAAS,UAAU,CAAC,GAAG,SAAS,UAAU,GAAG,UAAU,CAAC,CAAC,EAAE;AAAA,QACvH,CAAC,SAAS,KAAK,EAAE,SAAS,QAAQ,KAAY,oBAAc,iBAAiB,EAAE,cAA4B,QAAiB,CAAC;AAAA,QACvH,oBAAc,OAAO,EAAE,WAAW,SAAS,UAAU,SAAS,CAAC,EAAE,GAAG,QAAQ;AAAA,QAClF,CAAC,OAAO,QAAQ,EAAE,SAAS,QAAQ,KAAY,oBAAc,iBAAiB,EAAE,cAA4B,QAAiB,CAAC;AAAA,MAAE;AAAA,IAAC;AAAA,EAAC;AAClJ;AAEA,IAAM,iBAAiB,MAAa;AAAA,EAAoB;AAAA,EAAU;AAAA,EACxD,oBAAc,QAAQ,EAAE,aAAa,GAAG,QAAQ,gBAAgB,gBAAgB,SAAS,MAAM,QAAQ,GAAG,6BAA6B,CAAC;AAAA,EACxI,oBAAc,QAAQ,EAAE,GAAG,4CAA4C,CAAC;AAAC;AACnF,IAAM,oBAAoB,WAAW,qBAAqB,eAAe,CAAC;AAC1E,IAAM,mBAAmB,mBAAmB,oBAAoB,eAAe,CAAC;AAChF,SAAS,mBAAmB;AACxB,QAAM,EAAE,SAAS,MAAM,KAAK,IAAI,cAAc;AAC9C,QAAM,EAAE,OAAO,IAAI,iBAAiB;AACpC,MAAI,OAAO,kBAAkB;AACzB,WAAa,oBAAoB,gBAAU,MAAM,OAAO,iBAAiB,EAAE,SAAS,MAAM,KAAK,CAAC,CAAC;AAAA,EACrG;AACA,SAAc,oBAAc,YAAY,EAAE,OAAO,UAAU,oBAAoB,mBAAmB,MAAM,UAAU,oBAAoB,kBAAkB,YAAY,UAAU,OAAO,wBAAwB,OAAO,sBAAsB,SAAS,UAAU,OAAO,KAAK,CAAC;AAC9Q;AAEA,SAAS,WAAW,EAAE,SAAS,UAAU,QAAQ,UAAU,GAAG;AAC1D,UAAQ,CAAC,EAAE,YAAY,iBAAiB,SAAS,GAAG,UAAU,MAAM;AAChE,UAAM,aAAa,uBAAuB,eAAe;AACzD,WAAO;AAAA,MACH,SAAS,iBAAiB,SAAS,mBAAmB,WAAW,aAAmB,oBAAc,kBAAkB,IAAI,IAAI,IAAI;AAAA,MAChI;AAAA,MACA,GAAG;AAAA,IACP;AAAA,EACJ,CAAC;AACD,QAAM,SAAS,aAAa,mBAAmB,yBAAyB;AACxE,MAAI,SAAS,iBAAiB,GAAG;AAC7B,WAAO,mBAAmB,MAAM;AAAA,EACpC,OACK;AACD,cAAU,mBAAmB,MAAM;AAAA,EACvC;AACJ;",
  "names": []
}
